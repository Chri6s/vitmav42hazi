<nav class="main-navbar navbar navbar-expand-lg navbar-dark px-3">
	<div class="container-fluid">
		<a class="brand-name instrument-serif-regular-italic" href="/">BookJam</a>
		<button id="search-books-btn" class="btn login-btn ms-3">Search Books</button>

		<div class="ms-auto">
			<% if (locals.isAuthenticated) { %>
				<div class="d-flex align-items-center">
					<span style="font-size: large; color: #BBBBBB; margin-right: 10px;">Hello <%= user.username %>!</span>
					<div class="dropdown">
						<img src="<%= user && user.gravatarEmail ? 'https://www.gravatar.com/avatar/' + user.gravatarEmail : '/images/nopfp.svg' %>" 
							alt="Profile Picture" 
							class="rounded-circle me-2 gravatar-image dropdown" 
							style="width: 40px; height: 40px; object-fit: cover;"
							data-bs-toggle="dropdown"
							data-bs-display="static"
							type="button"
						>
						<ul class="dropdown-menu dropdown-menu-end">
						  <li><a href="/user"><button class="dropdown-item login-btn">Profile</button></a></li>
						  <li><a href="/logout"><button class="dropdown-item login-btn">Log out</button></a></li>
						</ul>
					  </div>
				</div>
			<% } else { %>
				<a class="register-btn instrument-serif-regular-italic " href="/register">Register</a>
				<a href="/login"><button class="btn login-btn ms-2">Log in</button></a>
			<% } %>
		</div>
	</div>
</nav>
<script>
	document.addEventListener('DOMContentLoaded', function () {
		const searchBooksBtn = document.getElementById('search-books-btn');
		if (window.location.pathname === '/search') {
			searchBooksBtn.style.display = 'none';
		}
		searchBooksBtn.addEventListener('click', function () {
			window.location.href = '/search';
		});
	});
</script>